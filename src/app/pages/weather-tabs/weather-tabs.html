<div class="container flex-grow-1 d-flex flex-column mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1>Clima Actual</h1>
    <a [routerLink]="['/dashboard']" class="btn btn-success btn-new-zip">
      + Nueva ubicaci칩n
    </a>
  </div>

  @if (locations().length === 0) {
  <div class="alert alert-info text-center">
    No has a침adido ninguna ubicaci칩n.
    <a [routerLink]="['/dashboard']">A침ade una</a> para empezar.
  </div>
  } @else {
  <app-tabs-container [tabs]="tabs()" (tabClosed)="onTabClosed($event)" [requestedTab]="requestedActiveTab()"
    (requestedTabConsumed)="requestedActiveTab.set(null)">

    <ng-template let-zip>
      @if (weatherDataMap().has(zip)) {
      <app-current-conditions [zipcode]="zip" [conditions]="weatherDataMap().get(zip) || null"></app-current-conditions>
      } @else {
      <div class="d-flex justify-content-center align-items-center p-5 loading-spinner">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Cargando...</span>
        </div>
        <span class="ms-3 text-muted">Cargando datos para {{ zip }}...</span>
      </div>
      }
    </ng-template>

  </app-tabs-container>
  }
</div>
