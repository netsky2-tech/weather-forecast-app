<div class="container forecast-page mt-4">
  <div *ngIf="forecast$ | async as forecast; else loading">

    <div class="page-header d-flex justify-content-between align-items-center mb-5">
      <h3>Pronóstico de 5 días para {{ forecast.city_name }}</h3>
      <a [routerLink]="['/weather']" class="btn btn-outline-secondary back-btn">
        <i class="bi bi-arrow-left me-1"></i> &larr; Volver
      </a>
    </div>

    <div class="list-group shadow-sm forecast-list">
      <div *ngFor="let day of forecast.data" class="list-group-item">
        <div class="row align-items-center">

          <div class="col-12 col-md-3">
            <h5 class="mb-0 day-date">{{ day.valid_date | date:'fullDate' }}</h5>
          </div>

          <div class="col-6 col-md-3 d-flex align-items-center">
            <img [src]="'https://www.weatherbit.io/static/img/icons/' + day.weather.icon + '.png'"
              [alt]="day.weather.description" width="60" height="60">
            <div>
              <span class="ms-2 weather-description d-block">{{ day.weather.description }}</span>
              <span class="ms-2 pop-info text-success small">{{ day.pop }}% Prob. Lluvia</span>
            </div>
          </div>

          <div class="col-6 col-md-6 text-md-end temp-details">

            <span class="max-temp me-3 d-block d-sm-inline-block">
              <strong>Máx:</strong> {{ day.max_temp | number:'1.0-0' }}°F
            </span>
            <span class="min-temp text-muted d-block d-sm-inline-block">
              <strong>Mín:</strong> {{ day.min_temp | number:'1.0-0' }}°F
            </span>

            <div class="d-none d-md-block d-flex justify-content-end mt-1 small-details">
              <span class="wind-info text-muted me-3">Viento: {{ day.wind_spd }} m/s</span>
              <span class="uv-info text-muted">UV: {{ day.uv | number:'1.0-0' }}</span>
            </div>

          </div>

        </div>
      </div>
    </div>

  </div>

  <ng-template #loading>
  </ng-template>
</div>
